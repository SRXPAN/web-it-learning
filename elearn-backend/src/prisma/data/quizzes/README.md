# üì¶ Quizzes Directory

–¶—è –ø–∞–ø–∫–∞ –º—ñ—Å—Ç–∏—Ç—å –æ–∫—Ä–µ–º—ñ JSON —Ñ–∞–π–ª–∏ –∑ –∫–≤—ñ–∑–∞–º–∏ –¥–ª—è —Ç–µ–º. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∑–º–µ–Ω—à–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ `content.json` —Ç–∞ —Å–ø—Ä–æ—Å—Ç–∏—Ç–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤–µ–ª–∏–∫–∏–º–∏ –∫–≤—ñ–∑–∞–º–∏ –∑ –±–∞–≥–∞—Ç—å–º–∞ –ø–∏—Ç–∞–Ω–Ω—è–º–∏ —ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∞–º–∏.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
quizzes/
‚îú‚îÄ‚îÄ sorting.json      # –ö–≤—ñ–∑–∏ –¥–ª—è —Ç–µ–º–∏ "Sorting"
‚îú‚îÄ‚îÄ graphs.json       # –ö–≤—ñ–∑–∏ –¥–ª—è —Ç–µ–º–∏ "Graphs"
‚îî‚îÄ‚îÄ ...               # –Ü–Ω—à—ñ –∫–≤—ñ–∑–∏
```

## üîó –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –£ —Ñ–∞–π–ª—ñ `content.json`:

–ó–∞–º—ñ—Å—Ç—å inline –º–∞—Å–∏–≤—É `quizzes`, –≤–∫–∞–∑—É–π—Ç–µ –ø–æ–ª–µ `quizFile`:

```json
{
  "slug": "sorting",
  "name": "Sorting",
  "quizFile": "sorting.json",  // ‚Üê –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ñ–∞–π–ª
  "materials": [...]
}
```

### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª—É –∫–≤—ñ–∑—É:

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—É** (`quizzes/sorting.json`):

```json
[
  {
    "title": "Sorting Basics",
    "titleJson": { 
      "UA": "–û—Å–Ω–æ–≤–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è", 
      "PL": "Podstawy sortowania", 
      "EN": "Sorting Basics" 
    },
    "durationSec": 180,
    "questions": [
      {
        "text": "–°–µ—Ä–µ–¥–Ω—è —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å QuickSort?",
        "textJson": { 
          "UA": "–°–µ—Ä–µ–¥–Ω—è —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å QuickSort?", 
          "PL": "≈örednia z≈Ço≈ºono≈õƒá QuickSort?", 
          "EN": "Average complexity of QuickSort?" 
        },
        "explanation": "QuickSort —Å–µ—Ä–µ–¥–Ω—å–æ –ø—Ä–∞—Ü—é—î –∑–∞ O(n log n).",
        "explanationJson": { 
          "UA": "QuickSort —Å–µ—Ä–µ–¥–Ω—å–æ –ø—Ä–∞—Ü—é—î –∑–∞ O(n log n).", 
          "PL": "QuickSort ≈õrednio dzia≈Ça w O(n log n).", 
          "EN": "QuickSort averages O(n log n)." 
        },
        "tags": ["Sorting", "Complexity"],
        "difficulty": "Easy",
        "options": [
          { 
            "text": "O(n log n)", 
            "textJson": { "UA": "O(n log n)", "PL": "O(n log n)", "EN": "O(n log n)" }, 
            "correct": true 
          },
          { 
            "text": "O(n¬≤)", 
            "textJson": { "UA": "O(n¬≤)", "PL": "O(n¬≤)", "EN": "O(n¬≤)" }, 
            "correct": false 
          }
        ]
      }
    ]
  }
]
```

## ‚öôÔ∏è –õ–æ–≥—ñ–∫–∞ –≤ `seed.safe.ts`

–°—ñ–¥–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:

1. **–ü–µ—Ä–µ–≤—ñ—Ä—è—î** –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ–ª—è `quizFile` —É —Ç–µ–º—ñ
2. **–®—É–∫–∞—î** —Ñ–∞–π–ª –≤ `src/prisma/data/quizzes/`
3. **–ß–∏—Ç–∞—î** —ñ –ø–∞—Ä—Å–∏—Ç—å JSON
4. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î** –¥–∞–Ω—ñ —è–∫ –º–∞—Å–∏–≤ `quizzes` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–ø–∏—Å—ñ–≤ —É –ë–î

```typescript
// –õ–æ–≥—ñ–∫–∞ –ø—ñ–¥–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–≤–Ω—ñ—à–Ω—å–æ–≥–æ —Ñ–∞–π–ª—É –∫–≤—ñ–∑–∞
let quizzesToImport = topicData.quizzes || [];

if (topicData.quizFile) {
  try {
    const quizFilePath = path.join(__dirname, 'data', 'quizzes', topicData.quizFile);
    const fileContent = await fs.readFile(quizFilePath, 'utf-8');
    const externalQuizzes = JSON.parse(fileContent);
    quizzesToImport = Array.isArray(externalQuizzes) ? externalQuizzes : [externalQuizzes];
    console.log(`   üì¶ Loaded external quiz from ${topicData.quizFile}`);
  } catch (e) {
    console.error(`   ‚ùå Failed to load quiz file ${topicData.quizFile}:`, e);
  }
}
```

## üìä –ü–µ—Ä–µ–≤–∞–≥–∏ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—ñ

| –ê—Å–ø–µ–∫—Ç | –ë–µ–∑ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—ñ | –ó –º–æ–¥—É–ª—å–Ω—ñ—Å—Ç—é |
|--------|----------------|---------------|
| **–†–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—ñ–≤** | –û–¥–∏–Ω –≤–µ–ª–∏—á–µ–∑–Ω–∏–π `content.json` | –†–æ–∑–¥—ñ–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏ –ø–æ —Ç–µ–º–∞—Ö |
| **–ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å** | –í–∞–∂–∫–æ –∑–Ω–∞–π—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –∫–≤—ñ–∑ | –ö–æ–∂–µ–Ω –∫–≤—ñ–∑ —É —Å–≤–æ—î–º—É —Ñ–∞–π–ª—ñ |
| **–ü–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å Git** | –í–µ–ª–∏–∫—ñ diff –ø—Ä–∏ –∑–º—ñ–Ω–∞—Ö | –ú–∞–ª–µ–Ω—å–∫—ñ diff |
| **–°–ø—ñ–≤–ø—Ä–∞—Ü—è** | –ö–æ–Ω—Ñ–ª—ñ–∫—Ç–∏ –ø—Ä–∏ merge | –ú–µ–Ω—à–µ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ |
| **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞** | –°–∫–ª–∞–¥–Ω–æ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ | –õ–µ–≥–∫–æ –∑–Ω–∞–π—Ç–∏ —ñ –∑–º—ñ–Ω–∏—Ç–∏ |

## üéØ Best Practices

### ‚úÖ **DO:**
- –°—Ç–≤–æ—Ä—é–π—Ç–µ –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª –¥–ª—è –∫–≤—ñ–∑—ñ–≤ –∑ 3+ –ø–∏—Ç–∞–Ω–Ω—è–º–∏
- –ù–∞–∑–∏–≤–∞–π—Ç–µ —Ñ–∞–π–ª–∏ –∑–∞ slug —Ç–µ–º–∏: `sorting.json`, `graphs.json`
- –ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ –≤—Å—ñ –º—É–ª—å—Ç–∏–º–æ–≤–Ω—ñ –ø–æ–ª—è (`textJson`, `titleJson`, etc.)
- –í–∞–ª—ñ–¥—É–π—Ç–µ JSON –ø–µ—Ä–µ–¥ –∫–æ–º–º—ñ—Ç–æ–º

### ‚ùå **DON'T:**
- –ù–µ –¥—É–±–ª—é–π—Ç–µ –∫–≤—ñ–∑–∏ (–∞–±–æ –≤ —Ñ–∞–π–ª—ñ, –∞–±–æ inline)
- –ù–µ –∑–∞–±—É–≤–∞–π—Ç–µ –ø—Ä–æ –ø–æ–ª–µ `quizFile` –≤ `content.json`
- –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω—ñ —à–ª—è—Ö–∏

## üîÑ Workflow

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∫–≤—ñ–∑—É:

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª** –≤ `quizzes/my-topic.json`
2. **–ù–∞–ø–∏—à—ñ—Ç—å –∫–≤—ñ–∑** –∑ —É—Å—ñ–º–∞ –ø–µ—Ä–µ–∫–ª–∞–¥–∞–º–∏
3. **–î–æ–¥–∞–π—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è** –≤ `content.json`:
   ```json
   {
     "slug": "my-topic",
     "quizFile": "my-topic.json"
   }
   ```
4. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å seed**:
   ```bash
   npm run seed
   ```

### –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–≤—ñ–∑—É:

1. –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª `quizzes/sorting.json`
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å seed –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ë–î

---

**üí° Tip:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `jq` –∞–±–æ –æ–Ω–ª–∞–π–Ω –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä–∏ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ JSON —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É –ø–µ—Ä–µ–¥ –∫–æ–º–º—ñ—Ç–æ–º!
